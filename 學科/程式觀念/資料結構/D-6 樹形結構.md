---
tags: 資料結構
aliase: 
created: 2023-02-25 19:26
modified: 星期六 25日 二月 2023 19:26:52
---

# 樹形結構
***
## 樹的基本概念
### 節點
1. 節點 node
2. 根節點 root
<<<<<<< HEAD
3. 父節點 parent
=======
3. 父節點 paren
>>>>>>> origin/main
4. 子節點 child
5. 兄弟節點 
### 樹
- 空樹
	- 一棵樹可以沒有任何節點
- 根結點
	- 一棵樹只有一節點 -> 跟節點
- 子樹、左子樹、右子樹
### 度
- 節點的度 degree
	- 子樹個數
- 節點的度
	- 最大的度
- 葉子節點 leaf
	- 度為0的節點
- 非葉子節點
	- 度不為0的節點
### 層數

- 層數 level: 根節點在第1層，根結點的子節點在第2層，以此類推(有些書的根結點在第0層)
- 節點的深度 depth: 從根節點到當前節點的唯一路徑上的節點總數
- 節點的高度 height: 從當前節點到最遠葉子節點的路徑上的節點總數
- 樹的深度: 所有節點深度中的最大值
- 樹的深度: 所有節點高度中的最大值
- 樹的深度等於樹的高度

### 有序樹、無序樹、森林
有序樹: 
- 樹中任意子節點之間有順序關係

無序樹: 
- 樹中任意節點的子節點之間沒有順序關係
- 也稱為自由樹

森林
- 由m(m≥0)顆不相交的樹所組成的集合

## 二元樹
- 每個節點的度最大為2(最多擁有2顆子樹)
- 左子樹與右子樹是有順序的(有序樹)
- 即使某節點只有一顆子樹，也要區分左右子樹
![Tree](https://4.bp.blogspot.com/-2tpABL2iW9E/WxeYjtVYTiI/AAAAAAAAKO8/Qsp1yDikqWwXOLAW1pJt3t3DoEbxgj2nwCLcBGAs/s1600/Algorithm_strict_full_tree.jpg)

型態:
- 空樹
- 只有左、右子樹
- 左右子樹都有

### 性質
- 非空二元樹的第i層，最多有2<sup>i-1</sup>個節點(i≥1)
- 在高度為h的二元樹上最多有2<sup>h-1</sup>個節點(h≥1)
- 對於任何一個非空二元樹，如果葉子節點為n<sub>0</sub>，度為2的節點個數為n2
	- 則有n0 = n2 + 1 
- 假設度為1的節點數為n1，那麼二元樹的節點總數n = n0 + n1 + n2
- 二元數的邊樹 T = n1 + 2 * n2 = n-1 = n0 + n1 + n2 -1

### 真二元樹 (Proper Binary Tree)
- 所有節點的度不是0，就是2

### 滿二元樹 (Full Binary Tree)
- 所有節點的度不是0，就是2。且所有的葉子節點都在最後一層
- 同樣高度的二元樹中，滿二元樹的葉子節點數量最多，總結點數量最多
- 滿二元樹一定是真二元樹，真二元樹不一定是滿二元樹
- 假設滿二元樹的高度為h(h≥1)，那麼
	- 第i層的節點數量: 2<sup>i-1</sup>
	- 葉子節點數量: 2<sup>h-1</sup>
	- 總節點數量 n = 2<sup>h</sup>-1
	- 高度 h = log<sub>2</sub>(n+1)

### 完全二元樹 Complete Binary Tree
- 葉子節點只會出現在最後兩層，且最後一層的葉子節點都靠左對齊
- 完全二元樹從根節點至倒數第二層是一顆滿二元樹
- 滿二元樹一定是完全二元樹，完全二元樹不一定是滿二元樹
- 度為1的節點只有左子樹
- 度為1的節點是1個或0個
- 同樣節點的二元樹，完全二元樹的高度最小
- 假設完全二元樹的高度為h(h≥1)
	- 最少有2<sup>h-1</sup>個節點 (2<sup>h-1</sup>-1 + 1)
	- 最多有2<sup>h</sup>-1個節點
	- 假設總節點數量為n
		- 2<sup>h-1</sup> ≤ n < 2<sup>h</sup>
		- h-1 ≤ log<sub>2</sub>n < h
		- h = floor(log<sub>2</sub>n) + 1
- 一顆有n個節點的完全二元樹(n>0)，從上到下、從左到右對節點1號開始編號，對任意第i節點
	- 如果i=1，它是父節點
	- 如果i>1，它的父節點編號為floor(i/2)
	- 如果2i≤n，它的左子節點編號為2i
	- 如果2i+1≤n，它的右子節點編號為2i
>如果從0開始編號，全部都需-1

## 國外教材的說法
- Full Binary Tree 完滿二元樹
	- 所有的非葉子節點的度都為2
	- "真二元樹"
- Perfect Binary Tree 完美二元樹
	- 所有非葉子節點的度為2，且所有葉子節點都在最後一層
	- "滿二元樹"
- Complete Binary Tree 完全二元樹
	- 一樣

### 面試題
如果一個完全二元樹有768個節點，求葉子節點的個數

假設葉子節點為n0，度為1的節點為n1，度為2的節點為n2
n = n0+n1+n2 n0=n2+1
n = 2 x n0 + n1 -1 -> n1 = (768-1)%2 = 1
n = 2 x n0
n0 = 384

- n1為1時，n = 2n0 n必為偶數
	- 非葉子節點: n1+n2 = n/2
- n1為0時，n= 2n0-1 n為奇數
	- 非葉子節點: n1+n2 = (n-1)/2
	- n0 = (n+1)/2


```cpp
// 如果n是偶數
int n0 = (n+1) >> 1;//向下取整
//celi(n>>1)
int n1_add_n2 = n>>1;
// celi((n-1) >> 1)

int n1 = n%2;
int n2 = n0 - 1;

```
=======
	- 高度 h = log<sub>2</sub>(n+1)
>>>>>>> origin/main
